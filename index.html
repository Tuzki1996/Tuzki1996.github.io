<html>
  <head>
    <meta charset="utf-8">
    <title>iot project</title>
    <link rel="stylesheet" href="styles/style.css">
   
  </head>
  <body>

    <h1>ANTI-THEFT DEVICES DATA COLLECTION </h1>

    <div class="Tab" >
    	<button class="tablink" onclick="openPage('MapTab',this)"><h2 >MAP</h2> </button>
	  	<button class="tablink" onclick="openPage('RankTab',this)"> <h2 >UNSAFE PLACES</h2> </button>
	 	<button class="tablink" onclick="openPage('DiagramTab',this)"><h2 >UNSAFE TIMES</h2 ></button>
    </div>
	

    <div id="RankTab" class="tabcontent" >
  		<h1>Most Unsafe Locations</h1>
    	<div class="box"> <div class="rankbox1"><h3>1</h3></div> <div class="rankbox2"><h3>台達館   8 cases</h3></div></div>
    	<div class="box"> <div class="rankbox1"><h3>2</h3></div> <div class="rankbox2"><h3>操場     3 cases</h3></div></div>
    	<div class="box"> <div class="rankbox1"><h3>3</h3></div> <div class="rankbox2"><h3>化學館    2 cases</h3></div></div> 
	</div>
    
   
   

	 <div id="MapTab" class="tabcontent" >
	 	<h1>This Is Where They Steal Your Stuff !!!!</h1>
	 	<div id="map" style="width:100%;height:80%;background:yellow"></div>
	 	 <script>
			function myMap() {
				var mapOptions = {
			    	center: {lat: 24.7947, lng: 120.9932},
			    	zoom: 17,
			    	mapTypeId: google.maps.MapTypeId.HYBRID
				}
				var map = new google.maps.Map(document.getElementById("map"), mapOptions);
				
				var marker = new google.maps.Marker({
          			position:  {lat: 24.793, lng: 120.9924},
          			map: map
        		});
        		var marker = new google.maps.Marker({
          			position:  {lat: 24.7935, lng: 120.9914},
          			map: map
        		});
        		var marker = new google.maps.Marker({
          			position:  {lat: 24.7952, lng: 120.9934},
          			map: map
        		});
        		var marker = new google.maps.Marker({
          			position:  {lat: 24.7931, lng: 120.9924},
          			map: map
        		});

			}
			

	    </script>
	 	<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyARZiM9Uon3eoiIqZXLYNHyov-l5jrO73w&callback=myMap"></script>		 			
	</div>
   
	<div id="DiagramTab" class="tabcontent" >
  		<h1>Diagram</h1>
  		<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
	    <script type="text/javascript">
		      google.charts.load('current', {'packages':['corechart']});
		      google.charts.setOnLoadCallback(drawChart);

		      function drawChart() {
		        var data = google.visualization.arrayToDataTable([
		          ['Time', 'rate' ],
		          ['00',  0],
		          ['01',  1],
		          ['02',  0],
		          ['03',  0],
		          ['04',  0],
		          ['05',  0],
		          ['06',  0],
		          ['07',  0],
		          ['08',  0],
		          ['09',  0],
		          ['10',  0],
		          ['11',  0],
		          ['12',  1],
		          ['13',  0],
		          ['14',  0],
		          ['15',  0],
		          ['16',  0],
		          ['17',  0],
		          ['18',  0],
		          ['19',  0],
		          ['20',  0],
		          ['21',  0],
		          ['22',  0],
		          ['23',  2]

		        ]);

		        var options = {
		          title: 'UNSAFE TIME',
		          curveType: 'function',
		          legend: { position: 'bottom' },
		          width: 1200,
        		  height: 500
		        };

		        var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

		        chart.draw(data, options);
		      }
    	</script>

  		<div id="curve_chart" style="width:70%%;height:80%"></div>
    	
	</div>

    <script>
    	 document.getElementById('MapTab').style.display = "block";
		function openPage(pageName,elmnt) {
		    var i, tabcontent, tablinks;
		    tabcontent = document.getElementsByClassName("tabcontent");
		    for (i = 0; i < tabcontent.length; i++) {
		        tabcontent[i].style.display = "none";
		    }
		    tablinks = document.getElementsByClassName("tablink");
		    for (i = 0; i < tablinks.length; i++) {
		        tablinks[i].style.backgroundColor = "";
		    }
		    document.getElementById(pageName).style.display = "block";
		    elmnt.style.backgroundColor = '#85929E';

		}
		// Get the element with id="defaultOpen" and click on it
		document.getElementById("defaultOpen").click();
</script>
   
    
    
    <script>
		var xhr = new XMLHttpRequest();
		xhr.open('GET', "IoT_final_project_server/rest/hello/tracy", true);
		xhr.send();

		xhr.onreadystatechange = processRequest;
 
		function processRequest(e) {

			

			if (xhr.readyState == 4 ) {
				//var status=xhr.status;
				//alert(xhr.responseText);

				if(xhr.status==200){

					alert(xhr.responseText);
				}
				

				
				
        
    		}
 
		}
  
	</script>
  </body>
</html>